import schedule
import time
from notifier import send_telegram_message, send_push_message

def daily_report():
    # TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    report = "üìä –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç:\n\nPnL –∑–∞ –¥–µ–Ω—å: +7.2%\n–°–¥–µ–ª–æ–∫: 52\n–û—à–∏–±–æ–∫: 0"
    send_telegram_message(report)
    send_push_message(report)

def run_daily_report():
    schedule.every().day.at("21:00").do(daily_report)
    print("[Scheduler] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ")

    while True:
        schedule.run_pending()
        time.sleep(30)
